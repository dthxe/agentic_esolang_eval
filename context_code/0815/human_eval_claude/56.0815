}:start:}:input_string:}:input_loop:!~<:0:x#:end_input:>~^:input_loop:}:end_input:}:check_brackets:<:0:x~}:count:}:check_loop:{~<:0:x#:end_check:<:28:x-#:not_open:<:29:x-#:not_close:^:next_char:}:not_open:<:count:x<:1:x+~}:count:^:next_char:}:not_close:<:count:x<:1:x-~}:count:<:count:x<:0:x-#:invalid:^:next_char:}:invalid:<:0:x~%^:end:}:next_char:^:check_loop:}:end_check:<:count:x<:0:x-#:not_zero:<:0:x~%^:end:}:not_zero:<:1:x~%}:end:
