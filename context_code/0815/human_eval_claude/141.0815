}:start:}:input_file_name:}:input_loop:!~<:0:x#:end_input:>~^:input_loop:}:end_input:}:file_name_check:}:init_vars:<:0:x~}:has_dot:<:0:x~}:index:<:0:x~}:check_loop:<:index:x<:0:x#:end_check:~}:char:}:check_dot:<:char:x<:2e:x=#:found_dot:}:next_char:<:index:x<:1:x+~}:index:^:check_loop:}:found_dot:<:1:x~}:has_dot:<:index:x~}:dot_pos:^:check_loop:}:end_check:}:check_has_dot:<:has_dot:x<:0:x=#:no_dot:}:get_extension:}:init_ext_vars:<:dot_pos:x<:1:x+~}:ext_start:<:0:x~}:ext_length:}:ext_loop:<:ext_start:x<:0:x#:end_ext_loop:~}:ext_char:}:inc_length:<:ext_length:x<:1:x+~}:ext_length:<:ext_start:x<:1:x+~}:ext_start:^:ext_loop:}:end_ext_loop:}:check_ext_length:<:ext_length:x<:1:x<#:valid_length:<:ext_length:x<:4:x>#:valid_length:}:valid_length:<:1:x~%^:end:}:no_dot:<:0:x~%^:end:}:invalid_length:<:0:x~%}:end:
